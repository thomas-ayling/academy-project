{"ast":null,"code":"import axios from 'axios';\nconst baseUrl = 'http://ec-acad-be-elb-a7e408ca999f09dd.elb.eu-west-2.amazonaws.com:3001/feedback';\n// const baseUrl = 'http://13.41.186.121:3001/feedback';\n\nconst create = (feedback, attachment, setAwaitingResponse, setSubmitStatus) => {\n  const formData = new FormData();\n  const feedbackBlob = new Blob([JSON.stringify(feedback)], {\n    type: 'application/json'\n  });\n  formData.append('feedback', feedbackBlob);\n  if (attachment) {\n    formData.append('attachment', attachment);\n  }\n  const headers = {\n    'Content-Type': 'multipart/form-data',\n    'Access-Control-Allow-Origin': '*',\n    'Access-Control-Allow-Headers': '*',\n    'Access-Control-Allow-Credentials': 'true'\n  };\n  axios.post(baseUrl + '/upload', formData, {\n    headers: headers\n  }).then(res => {\n    if (res.status === 200) {\n      setSubmitStatus('success');\n      setAwaitingResponse(false);\n    }\n  }).catch(err => {\n    setSubmitStatus('error');\n    setAwaitingResponse(false);\n  });\n};\nexport { create };","map":{"version":3,"names":["axios","baseUrl","create","feedback","attachment","setAwaitingResponse","setSubmitStatus","formData","FormData","feedbackBlob","Blob","JSON","stringify","type","append","headers","post","then","res","status","catch","err"],"sources":["/Users/k-edmeade/React-Projects/academy-project/src/service/FeedbackService.js"],"sourcesContent":["import axios from 'axios';\nconst baseUrl = 'http://ec-acad-be-elb-a7e408ca999f09dd.elb.eu-west-2.amazonaws.com:3001/feedback';\n// const baseUrl = 'http://13.41.186.121:3001/feedback';\n\nconst create = (feedback, attachment, setAwaitingResponse, setSubmitStatus) => {\n  const formData = new FormData();\n\n  const feedbackBlob = new Blob([JSON.stringify(feedback)], {\n    type: 'application/json',\n  });\n\n  formData.append('feedback', feedbackBlob);\n\n  if (attachment) {\n    formData.append('attachment', attachment);\n  }\n\n  const headers = { 'Content-Type': 'multipart/form-data', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': '*', 'Access-Control-Allow-Credentials': 'true' };\n\n  axios\n    .post(baseUrl + '/upload', formData, {\n      headers: headers,\n    })\n    .then((res) => {\n      if (res.status === 200) {\n        setSubmitStatus('success');\n        setAwaitingResponse(false);\n      }\n    })\n    .catch((err) => {\n      setSubmitStatus('error');\n      setAwaitingResponse(false);\n    });\n};\n\nexport { create };\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,MAAMC,OAAO,GAAG,kFAAkF;AAClG;;AAEA,MAAMC,MAAM,GAAG,CAACC,QAAQ,EAAEC,UAAU,EAAEC,mBAAmB,EAAEC,eAAe,KAAK;EAC7E,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;EAE/B,MAAMC,YAAY,GAAG,IAAIC,IAAI,CAAC,CAACC,IAAI,CAACC,SAAS,CAACT,QAAQ,CAAC,CAAC,EAAE;IACxDU,IAAI,EAAE;EACR,CAAC,CAAC;EAEFN,QAAQ,CAACO,MAAM,CAAC,UAAU,EAAEL,YAAY,CAAC;EAEzC,IAAIL,UAAU,EAAE;IACdG,QAAQ,CAACO,MAAM,CAAC,YAAY,EAAEV,UAAU,CAAC;EAC3C;EAEA,MAAMW,OAAO,GAAG;IAAE,cAAc,EAAE,qBAAqB;IAAE,6BAA6B,EAAE,GAAG;IAAE,8BAA8B,EAAE,GAAG;IAAE,kCAAkC,EAAE;EAAO,CAAC;EAE9Kf,KAAK,CACFgB,IAAI,CAACf,OAAO,GAAG,SAAS,EAAEM,QAAQ,EAAE;IACnCQ,OAAO,EAAEA;EACX,CAAC,CAAC,CACDE,IAAI,CAAEC,GAAG,IAAK;IACb,IAAIA,GAAG,CAACC,MAAM,KAAK,GAAG,EAAE;MACtBb,eAAe,CAAC,SAAS,CAAC;MAC1BD,mBAAmB,CAAC,KAAK,CAAC;IAC5B;EACF,CAAC,CAAC,CACDe,KAAK,CAAEC,GAAG,IAAK;IACdf,eAAe,CAAC,OAAO,CAAC;IACxBD,mBAAmB,CAAC,KAAK,CAAC;EAC5B,CAAC,CAAC;AACN,CAAC;AAED,SAASH,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}